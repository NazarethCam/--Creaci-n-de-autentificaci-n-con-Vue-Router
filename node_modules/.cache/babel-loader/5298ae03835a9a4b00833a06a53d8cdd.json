{"remainingRequest":"C:\\Users\\naza3\\OneDrive\\Escritorio\\desafio_creacion_autentificacion\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\naza3\\OneDrive\\Escritorio\\desafio_creacion_autentificacion\\node_modules\\eslint-loader\\index.js??ref--12-0!C:\\Users\\naza3\\OneDrive\\Escritorio\\desafio_creacion_autentificacion\\src\\firebase.js","dependencies":[{"path":"C:\\Users\\naza3\\OneDrive\\Escritorio\\desafio_creacion_autentificacion\\src\\firebase.js","mtime":1641868525331},{"path":"C:\\Users\\naza3\\OneDrive\\Escritorio\\desafio_creacion_autentificacion\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641917278664},{"path":"C:\\Users\\naza3\\OneDrive\\Escritorio\\desafio_creacion_autentificacion\\node_modules\\babel-loader\\lib\\index.js","mtime":1641917281957},{"path":"C:\\Users\\naza3\\OneDrive\\Escritorio\\desafio_creacion_autentificacion\\node_modules\\eslint-loader\\index.js","mtime":1641917279685}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gImZpcmViYXNlL2FwcCI7CmltcG9ydCBmaXJlYmFzZUNvbmZpZyBmcm9tICIuL2NvbmZpZy5qcyI7CmltcG9ydCB7IGdldEF1dGgsIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCwgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsIG9uQXV0aFN0YXRlQ2hhbmdlZCwgc2lnbk91dCB9IGZyb20gImZpcmViYXNlL2F1dGgiOwppbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTsKY29uc3QgYXV0aCA9IGdldEF1dGgoKTsgLy8gUmVnaXN0cmFyIHVzdWFyaW8KCmNvbnN0IHJlZ2lzdGVyVXNlciA9IChlbWFpbCwgcGFzc3dvcmQsIGNhbGxiYWNrKSA9PiB7CiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCkudGhlbih1c2VyQ3JlZGVudGlhbCA9PiB7CiAgICAvLyBTaWduZWQgaW4KICAgIGNvbnN0IHVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyOwogICAgY29uc29sZS5sb2codXNlcik7CiAgICBjYWxsYmFjaygpOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnN0IGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgY29uc29sZS5sb2coZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UpOwogIH0pOwp9OyAvLyBMb2dpbgoKCmNvbnN0IGxvZ2luID0gKGVtYWlsLCBwYXNzd29yZCwgY2FsbGJhY2spID0+IHsKICBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbCwgcGFzc3dvcmQpLnRoZW4odXNlckNyZWRlbnRpYWwgPT4gewogICAgLy8gU2lnbmVkIGluCiAgICBjb25zdCB1c2VyID0gdXNlckNyZWRlbnRpYWwudXNlcjsKICAgIGNvbnNvbGUubG9nKHVzZXIpOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnN0IGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgY29uc29sZS5sb2coZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UpOwogICAgY2FsbGJhY2soZXJyb3JDb2RlKTsKICB9KTsKfTsgLy8gTG9nb3V0CgoKY29uc3QgbG9nb3V0ID0gKCkgPT4gewogIHNpZ25PdXQoYXV0aCkudGhlbih1c2VyID0+IHsKICAgIGNvbnNvbGUubG9nKHVzZXIpOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICB9KTsKfTsgLy8gT2JzZXJ2YWRvcgovLyBBY2EgZW50cmEgYSBsb2dpbiBzaSBubyBlc3RhbW9zIGxvZ2VhZG9zCgoKY29uc3Qgb2JzZXJ2ZXIgPSAodG8sIG5leHQpID0+IHsKICBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgdXNlciA9PiB7CiAgICBpZiAodXNlcikgewogICAgICAvLyBBY2EgZW50cmEgY3VhbmRvIGVzdGEgbG9nZWFkbyBlbCB1c3VhcmlvCiAgICAgIGlmICh0by5wYXRoID09PSAiL2xvZ2luIikgewogICAgICAgIG5leHQoIi8iKTsgLy9yZWRpcmlnZSBhbCBIb21lCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCgpOyAvLyBBY2EgZW50cmEgYWwgSG9tZSBlbCB1c3VhcmlvCiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIEFjYSBlbnRyYSBjdWFuZG8gbm8gZXN0YSBsb2dlYWRvIGVsIHVzdWFyaW8KICAgICAgaWYgKHRvLnBhdGggIT09ICIvbG9naW4iKSB7CiAgICAgICAgbmV4dCgiL2xvZ2luIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCgpOyAvLyBBY2EgZW50cmEgYWwgbG9naW4KICAgICAgfQogICAgfQogIH0pOwp9OwoKZXhwb3J0IHsgcmVnaXN0ZXJVc2VyLCBsb2dpbiwgbG9nb3V0LCBvYnNlcnZlciB9Ow=="},{"version":3,"sources":["C:/Users/naza3/OneDrive/Escritorio/desafio_creacion_autentificacion/src/firebase.js"],"names":["initializeApp","firebaseConfig","getAuth","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","signOut","auth","registerUser","email","password","callback","then","userCredential","user","console","log","catch","error","errorCode","code","errorMessage","message","login","logout","observer","to","next","path"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,OAAOC,cAAP,MAA2B,aAA3B;AACA,SACEC,OADF,EAEEC,8BAFF,EAGEC,0BAHF,EAIEC,kBAJF,EAKEC,OALF,QAMO,eANP;AAQAN,aAAa,CAACC,cAAD,CAAb;AAEA,MAAMM,IAAI,GAAGL,OAAO,EAApB,C,CAEA;;AACA,MAAMM,YAAY,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B;AAClDR,EAAAA,8BAA8B,CAACI,IAAD,EAAOE,KAAP,EAAcC,QAAd,CAA9B,CACGE,IADH,CACSC,cAAD,IAAoB;AACxB;AACA,UAAMC,IAAI,GAAGD,cAAc,CAACC,IAA5B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEAH,IAAAA,QAAQ;AACT,GAPH,EAQGM,KARH,CAQUC,KAAD,IAAW;AAChB,UAAMC,SAAS,GAAGD,KAAK,CAACE,IAAxB;AACA,UAAMC,YAAY,GAAGH,KAAK,CAACI,OAA3B;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ,EAAuBE,YAAvB;AACD,GAZH;AAaD,CAdD,C,CAgBA;;;AACA,MAAME,KAAK,GAAG,CAACd,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B;AAC3CP,EAAAA,0BAA0B,CAACG,IAAD,EAAOE,KAAP,EAAcC,QAAd,CAA1B,CACGE,IADH,CACSC,cAAD,IAAoB;AACxB;AACA,UAAMC,IAAI,GAAGD,cAAc,CAACC,IAA5B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,GALH,EAMGG,KANH,CAMUC,KAAD,IAAW;AAChB,UAAMC,SAAS,GAAGD,KAAK,CAACE,IAAxB;AACA,UAAMC,YAAY,GAAGH,KAAK,CAACI,OAA3B;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ,EAAuBE,YAAvB;AAEAV,IAAAA,QAAQ,CAACQ,SAAD,CAAR;AACD,GAZH;AAaD,CAdD,C,CAgBA;;;AACA,MAAMK,MAAM,GAAG,MAAM;AACnBlB,EAAAA,OAAO,CAACC,IAAD,CAAP,CACGK,IADH,CACSE,IAAD,IAAU;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,GAHH,EAIGG,KAJH,CAIUC,KAAD,IAAW;AAChBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,GANH;AAOD,CARD,C,CAUA;AAEA;;;AACA,MAAMO,QAAQ,GAAG,CAACC,EAAD,EAAKC,IAAL,KAAc;AAC7BtB,EAAAA,kBAAkB,CAACE,IAAD,EAAQO,IAAD,IAAU;AACjC,QAAIA,IAAJ,EAAU;AACR;AACA,UAAIY,EAAE,CAACE,IAAH,KAAY,QAAhB,EAA0B;AACxBD,QAAAA,IAAI,CAAC,GAAD,CAAJ,CADwB,CACb;AACZ,OAFD,MAEO;AACLA,QAAAA,IAAI,GADC,CACG;AACT;AACF,KAPD,MAOO;AACL;AACA,UAAID,EAAE,CAACE,IAAH,KAAY,QAAhB,EAA0B;AACxBD,QAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,OAFD,MAEO;AACLA,QAAAA,IAAI,GADC,CACG;AACT;AACF;AACF,GAhBiB,CAAlB;AAiBD,CAlBD;;AAoBA,SAASnB,YAAT,EAAuBe,KAAvB,EAA8BC,MAA9B,EAAsCC,QAAtC","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport firebaseConfig from \"./config.js\";\r\nimport {\r\n  getAuth,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  onAuthStateChanged,\r\n  signOut\r\n} from \"firebase/auth\";\r\n\r\ninitializeApp(firebaseConfig);\r\n\r\nconst auth = getAuth();\r\n\r\n// Registrar usuario\r\nconst registerUser = (email, password, callback) => {\r\n  createUserWithEmailAndPassword(auth, email, password)\r\n    .then((userCredential) => {\r\n      // Signed in\r\n      const user = userCredential.user;\r\n      console.log(user);\r\n\r\n      callback();\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n    });\r\n};\r\n\r\n// Login\r\nconst login = (email, password, callback) => {\r\n  signInWithEmailAndPassword(auth, email, password)\r\n    .then((userCredential) => {\r\n      // Signed in\r\n      const user = userCredential.user;\r\n      console.log(user);\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n\r\n      callback(errorCode);\r\n    });\r\n};\r\n\r\n// Logout\r\nconst logout = () => {\r\n  signOut(auth)\r\n    .then((user) => {\r\n      console.log(user);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\n// Observador\r\n\r\n// Aca entra a login si no estamos logeados\r\nconst observer = (to, next) => {\r\n  onAuthStateChanged(auth, (user) => {\r\n    if (user) {\r\n      // Aca entra cuando esta logeado el usuario\r\n      if (to.path === \"/login\") {\r\n        next(\"/\"); //redirige al Home\r\n      } else {\r\n        next(); // Aca entra al Home el usuario\r\n      }\r\n    } else {\r\n      // Aca entra cuando no esta logeado el usuario\r\n      if (to.path !== \"/login\") {\r\n        next(\"/login\");\r\n      } else {\r\n        next(); // Aca entra al login\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nexport { registerUser, login, logout, observer };\r\n"]}]}